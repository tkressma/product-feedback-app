{"ast":null,"code":"import _slicedToArray from\"/home/tom/Desktop/product-feedback-app/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import DeletionNotification from\"../../../../UI/DeletionNotification/DeletionNotification\";import styles from\"./Suggestion.module.css\";import Tag from\"../../../../UI/Tag/Tag\";import UpvoteButton from\"./UpvoteButton/UpvoteButton\";import CommentLink from\"./CommentLink/CommentLink\";import Heading from\"../../../../UI/Heading/Heading\";import TextBody from\"../../../../UI/TextBody/TextBody\";import editIcon from\"../../../../../assets/shared/icon-edit-feedback-pen.svg\";import deleteIcon from\"../../../../../assets/shared/icon-delete.svg\";import Moment from\"react-moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Suggestion(_ref){var _user$result,_user$result2;var suggestionData=_ref.suggestionData;// Destructuring props\nvar title=suggestionData.title,description=suggestionData.description,category=suggestionData.category,upvotes=suggestionData.upvotes,comments=suggestionData.comments,creator=suggestionData.creator,username=suggestionData.username,createdAt=suggestionData.createdAt,name=suggestionData.name,_id=suggestionData._id;var user=JSON.parse(localStorage.getItem(\"profile\"));var _useState=useState(false),_useState2=_slicedToArray(_useState,2),deletionNotificationActive=_useState2[0],setDeleteNotificationActive=_useState2[1];var navigate=useNavigate();var openDeletionNotification=function openDeletionNotification(e){e.preventDefault();setDeleteNotificationActive(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[deletionNotificationActive&&/*#__PURE__*/_jsx(DeletionNotification,{id:_id,closeNotification:function closeNotification(){return setDeleteNotificationActive(false);}}),/*#__PURE__*/_jsxs(\"article\",{className:styles.suggestion,children:[/*#__PURE__*/_jsx(UpvoteButton,{upvotes:upvotes,id:_id}),/*#__PURE__*/_jsxs(\"section\",{className:styles[\"suggestion__info\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"suggestion__header\"],children:[/*#__PURE__*/_jsx(Heading,{type:\"h3\",link:true,destination:\"/view-suggestion/\".concat(_id),children:title}),/*#__PURE__*/_jsxs(TextBody,{type:\"b1\",children:[name,/*#__PURE__*/_jsxs(\"span\",{className:styles[\"suggestion__username\"],children:[\"@\",username]})]}),/*#__PURE__*/_jsx(TextBody,{type:\"b2\",children:/*#__PURE__*/_jsx(Moment,{format:\"MM/DD/YYYY\",date:createdAt})})]}),/*#__PURE__*/_jsx(\"p\",{className:styles[\"suggestion__description\"],children:description}),/*#__PURE__*/_jsx(Tag,{category:category})]}),((user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.googleId)===creator||(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2._id)===creator)&&/*#__PURE__*/_jsxs(\"div\",{className:styles[\"suggestion__creator_settings\"],children:[/*#__PURE__*/_jsx(\"button\",{className:styles[\"suggestion__creator_settings_btn\"],onClick:function onClick(e){e.preventDefault();navigate(\"/edit-feedback/\".concat(_id));},\"aria-label\":\"Edit suggestion\",children:/*#__PURE__*/_jsx(\"img\",{src:editIcon,className:styles[\"suggestion__edit_icon\"],alt:\"A pen suggesting editing\"})}),/*#__PURE__*/_jsx(\"button\",{className:styles[\"suggestion__creator_settings_btn\"],onClick:openDeletionNotification,\"aria-label\":\"Delete suggestion\",children:/*#__PURE__*/_jsx(\"img\",{src:deleteIcon,className:styles[\"suggestion__delete_icon\"],alt:\"A trash can suggesting deletion.\"})})]}),/*#__PURE__*/_jsx(CommentLink,{comments:comments,id:_id})]})]});}","map":{"version":3,"sources":["/home/tom/Desktop/product-feedback-app/client/src/components/Home/Main/SuggestionsFeed/Suggestion/Suggestion.js"],"names":["useState","useNavigate","DeletionNotification","styles","Tag","UpvoteButton","CommentLink","Heading","TextBody","editIcon","deleteIcon","Moment","Suggestion","suggestionData","title","description","category","upvotes","comments","creator","username","createdAt","name","_id","user","JSON","parse","localStorage","getItem","deletionNotificationActive","setDeleteNotificationActive","navigate","openDeletionNotification","e","preventDefault","suggestion","result","googleId"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport DeletionNotification from \"../../../../UI/DeletionNotification/DeletionNotification\";\nimport styles from \"./Suggestion.module.css\";\nimport Tag from \"../../../../UI/Tag/Tag\";\nimport UpvoteButton from \"./UpvoteButton/UpvoteButton\";\nimport CommentLink from \"./CommentLink/CommentLink\";\nimport Heading from \"../../../../UI/Heading/Heading\";\nimport TextBody from \"../../../../UI/TextBody/TextBody\";\nimport editIcon from \"../../../../../assets/shared/icon-edit-feedback-pen.svg\";\nimport deleteIcon from \"../../../../../assets/shared/icon-delete.svg\";\nimport Moment from \"react-moment\";\nexport default function Suggestion({ suggestionData }) {\n  // Destructuring props\n  const {\n    title,\n    description,\n    category,\n    upvotes,\n    comments,\n    creator,\n    username,\n    createdAt,\n    name,\n    _id,\n  } = suggestionData;\n\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\n  const [deletionNotificationActive, setDeleteNotificationActive] =\n    useState(false);\n  const navigate = useNavigate();\n\n  const openDeletionNotification = (e) => {\n    e.preventDefault();\n    setDeleteNotificationActive(true);\n  };\n\n  return (\n    <>\n      {deletionNotificationActive && (\n        <DeletionNotification\n          id={_id}\n          closeNotification={() => setDeleteNotificationActive(false)}\n        />\n      )}\n      <article className={styles.suggestion}>\n        <UpvoteButton upvotes={upvotes} id={_id} />\n\n        {/* Suggestion title, description, and tag */}\n        <section className={styles[\"suggestion__info\"]}>\n          <div className={styles[\"suggestion__header\"]}>\n            <Heading\n              type=\"h3\"\n              link={true}\n              destination={`/view-suggestion/${_id}`}\n            >\n              {title}\n            </Heading>\n\n            <TextBody type=\"b1\">\n              {name}\n              <span className={styles[\"suggestion__username\"]}>\n                @{username}\n              </span>\n            </TextBody>\n\n            <TextBody type=\"b2\">\n              <Moment format=\"MM/DD/YYYY\" date={createdAt} />\n            </TextBody>\n          </div>\n\n          <p className={styles[\"suggestion__description\"]}>{description}</p>\n          <Tag category={category} />\n        </section>\n\n        {/* If the user is the creator of the suggestion, display the edit and delete options */}\n        {(user?.result?.googleId === creator ||\n          user?.result?._id === creator) && (\n          <div className={styles[\"suggestion__creator_settings\"]}>\n            <button\n              className={styles[\"suggestion__creator_settings_btn\"]}\n              onClick={(e) => {\n                e.preventDefault();\n                navigate(`/edit-feedback/${_id}`);\n              }}\n              aria-label=\"Edit suggestion\"\n            >\n              <img\n                src={editIcon}\n                className={styles[\"suggestion__edit_icon\"]}\n                alt=\"A pen suggesting editing\"\n              />\n            </button>\n            <button\n              className={styles[\"suggestion__creator_settings_btn\"]}\n              onClick={openDeletionNotification}\n              aria-label=\"Delete suggestion\"\n            >\n              <img\n                src={deleteIcon}\n                className={styles[\"suggestion__delete_icon\"]}\n                alt=\"A trash can suggesting deletion.\"\n              />\n            </button>\n          </div>\n        )}\n\n        <CommentLink comments={comments} id={_id} />\n      </article>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}